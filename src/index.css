@import "tailwindcss";
@import "./styles/tokens.css";
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap');

@layer base {
  body {
    @apply antialiased;
    font-family: var(--font-body);
    color: var(--color-text-body);
    background: linear-gradient(180deg, #F8FAFC 0%, #EAF6FD 100%);
    min-height: 100vh;
  }

  /* Headings use display font */
  h1, h2, h3 {
    font-family: var(--font-display);
    color: var(--color-text-heading);
  }

  h1 {
    font-size: var(--text-2xl);
    font-weight: var(--font-bold);
  }

  h2 {
    font-size: var(--text-xl);
    font-weight: var(--font-semibold);
  }

  h3 {
    font-size: var(--text-lg);
    font-weight: var(--font-medium);
  }
}

@layer components {
  /* Page container with bottom nav padding */
  .page-container {
    @apply max-w-2xl mx-auto px-5;
    padding-bottom: calc(5rem + env(safe-area-inset-bottom, 0px));
  }

  /* Legacy button styles (being replaced by PillButton) */
  .btn {
    @apply px-6 py-3 rounded-xl font-medium transition-all duration-200;
  }

  .btn-primary {
    background-color: var(--color-secondary);
    color: white;
  }

  .btn-primary:hover {
    background-color: #2E7AB8;
  }

  .btn-secondary {
    @apply bg-white border;
    border-color: var(--color-secondary);
    color: var(--color-text-heading);
  }

  .btn-secondary:hover {
    background-color: var(--color-bg-light);
  }
}

/* Custom color definitions for Tailwind v4 */
@theme {
  /* Brand colors */
  --color-mobble-blue: #5DB6E8;
  --color-mobble-secondary: #3A8DCC;
  --color-mobble-accent: #FFD24A;
  --color-mobble-dark: #1F4E79;
  --color-mobble-light: #EAF6FD;

  /* Movement status colors */
  --color-moved-yes: #86EFAC;
  --color-moved-kind-of: #FDE047;
  --color-moved-no: #D1D5DB;
  --color-feeling-better: #86EFAC;
  --color-feeling-same: #A5B4FC;
  --color-feeling-worse: #D1D5DB;
}

/* Animation utilities */
@layer utilities {
  .animate-in {
    animation-duration: 0.3s;
    animation-fill-mode: both;
  }

  .fade-in {
    animation-name: fadeIn;
  }

  .slide-in-from-bottom {
    animation-name: slideInFromBottom;
  }

  .slide-in-from-top {
    animation-name: slideInFromTop;
  }

  .duration-200 {
    animation-duration: 0.2s;
  }

  .duration-250 {
    animation-duration: 0.25s;
  }

  .duration-300 {
    animation-duration: 0.3s;
  }

  .duration-500 {
    animation-duration: 0.5s;
  }

  .delay-100 {
    animation-delay: 0.1s;
  }

  .delay-200 {
    animation-delay: 0.2s;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideInFromBottom {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slideInFromTop {
    from {
      transform: translateY(-20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Exit animations */
  .animate-out {
    animation-duration: 0.25s;
    animation-fill-mode: forwards;
  }

  .fade-out {
    animation-name: fadeOut;
  }

  .slide-out-to-top {
    animation-name: slideOutToTop;
  }

  .slide-out-to-bottom {
    animation-name: slideOutToBottom;
  }

  @keyframes fadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  @keyframes slideOutToTop {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(-20px);
      opacity: 0;
    }
  }

  @keyframes slideOutToBottom {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(20px);
      opacity: 0;
    }
  }

  /* Mobble Emote Animations */

  /* Gentle idle wobble - default state */
  @keyframes mobble-wobble {
    0%, 100% { transform: rotate(-2deg); }
    50% { transform: rotate(2deg); }
  }

  /* Happy bounce - on completion */
  @keyframes mobble-bounce {
    0%, 100% { transform: translateY(0) scale(1); }
    25% { transform: translateY(-12px) scale(1.05); }
    50% { transform: translateY(-6px) scale(1.02); }
    75% { transform: translateY(-2px) scale(1.01); }
  }

  /* Slow breathing - calm/cozy states */
  @keyframes mobble-breathing {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.04); }
  }

  /* Sparkle effect - rewards/points (using new accent color) */
  @keyframes mobble-sparkle {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.15) drop-shadow(0 0 8px rgba(93, 182, 232, 0.5)); }
  }

  /* Float effect - gentle up/down */
  @keyframes mobble-float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
  }

  .mobble-wobble {
    animation: mobble-wobble 2s ease-in-out infinite;
  }

  .mobble-bounce {
    animation: mobble-bounce 0.6s ease-out;
  }

  .mobble-breathing {
    animation: mobble-breathing 3s ease-in-out infinite;
  }

  .mobble-sparkle {
    animation: mobble-sparkle 1.5s ease-in-out infinite;
  }

  .mobble-float {
    animation: mobble-float 2.5s ease-in-out infinite;
  }

  /* Combined animations */
  .mobble-sparkle-bounce {
    animation: mobble-bounce 0.6s ease-out, mobble-sparkle 1.5s ease-in-out infinite 0.6s;
  }

  /* Card transition animations */
  .card-enter {
    animation: slideInFromBottom 300ms ease-out forwards;
  }

  .card-exit {
    animation: slideOutToTop 250ms ease-in-out forwards;
  }
}
